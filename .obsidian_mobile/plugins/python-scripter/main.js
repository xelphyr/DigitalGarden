/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
  mod
));
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => PythonScripterPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");
var path = __toESM(require("path"));
var fs = __toESM(require("fs"));
var import_child_process = require("child_process");
var DEFAULT_SETTINGS = {
  pythonPath: "",
  pythonExe: ""
  // useLastFile: false
};
var PythonScripterPlugin = class extends import_obsidian.Plugin {
  getBasePath() {
    let basePath;
    if (this.app.vault.adapter instanceof import_obsidian.FileSystemAdapter) {
      basePath = this.app.vault.adapter.getBasePath();
    } else {
      throw new Error("Cannot determine base path.");
    }
    return `${basePath}`;
  }
  async onload() {
    await this.loadSettings();
    var basePath = this.getBasePath();
    var defaultRelativePath = path.join(".", this.app.vault.configDir, "scripts", "python");
    this.pythonDirectory = path.join(basePath, defaultRelativePath);
    this.pythonDirectoryRelative = defaultRelativePath;
    if (this.settings.pythonPath != "") {
      this.pythonDirectory = path.join(basePath, this.settings.pythonPath);
      this.pythonDirectoryRelative = this.settings.pythonPath;
    } else {
      this.pythonDirectory = path.join(basePath, defaultRelativePath);
      this.pythonDirectoryRelative = defaultRelativePath;
    }
    console.log(this.pythonDirectoryRelative);
    try {
      await this.app.vault.createFolder(this.pythonDirectoryRelative);
    } catch (error) {
    }
    var files = fs.readdirSync(this.pythonDirectory);
    for (var index = 0; index < files.length; index++) {
      const filePath = path.join(this.pythonDirectory, files[index]);
      const fileName = files[index];
      const basePath2 = this.getBasePath();
      const obsidianCommand = {
        id: "run-" + files[index],
        name: "Run " + files[index],
        callback: () => {
          fs.stat(filePath, (err, stats) => {
            var _a, _b, _c, _d;
            if (err) {
              console.error(err);
              return;
            }
            let python_exe = "python";
            if (this.settings.pythonExe != "") {
              python_exe = this.settings.pythonExe;
            }
            if (stats.isFile()) {
              var local_current_file_path = (_b = (_a = this.app.workspace.getActiveFile()) == null ? void 0 : _a.name) == null ? void 0 : _b.toString();
              if (local_current_file_path === void 0) {
                local_current_file_path = "";
              }
              (0, import_child_process.exec)(`${python_exe} "${filePath}" "${basePath2}" "${local_current_file_path}"`, { cwd: this.pythonDirectory }, (error, stdout, stderr) => {
                if (error) {
                  new import_obsidian.Notice(`Error executing script ${filePath}: ${error}`);
                  console.log(`Error executing script ${filePath}: ${error}`);
                  return;
                }
                new import_obsidian.Notice(`Script ` + fileName + ` output:
${stdout}`);
              });
            } else if (stats.isDirectory()) {
              var dir = path.join(filePath);
              var local_current_file_path = (_d = (_c = this.app.workspace.activeEditor) == null ? void 0 : _c.file) == null ? void 0 : _d.path;
              if (local_current_file_path === void 0) {
                local_current_file_path = "";
              }
              (0, import_child_process.exec)(`${python_exe} "${path.join(filePath, "src", "main.py")}" "${basePath2}" "${local_current_file_path}"`, { cwd: dir }, (error, stdout, stderr) => {
                if (error) {
                  new import_obsidian.Notice(`Error executing folder program: ${error}`);
                  console.log(`Error executing folder program: ${error}`);
                  return;
                }
                new import_obsidian.Notice(`Script ` + fileName + " " + basePath2 + ` output:
${stdout}`);
              });
            }
          });
        }
      };
      this.addCommand(obsidianCommand);
    }
    this.addSettingTab(new PythonScripterSettingTab(this.app, this));
  }
  onunload() {
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
};
var PythonScripterSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    new import_obsidian.Setting(containerEl).setName("Python Script Path").setDesc("Defaults to .obsidian\\scripts\\python").addText((text) => text.setPlaceholder("Enter path").setValue(this.plugin.settings.pythonPath).onChange(async (value) => {
      this.plugin.settings.pythonPath = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("Python Executable").setDesc("Defaults to python").addText((text) => text.setPlaceholder("Enter path or command").setValue(this.plugin.settings.pythonExe).onChange(async (value) => {
      this.plugin.settings.pythonExe = value;
      await this.plugin.saveSettings();
    }));
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgQXBwLCBFZGl0b3IsIEZpbGVTeXN0ZW1BZGFwdGVyLCBNYXJrZG93blZpZXcsIE1vZGFsLCBOb3RpY2UsIFBsdWdpbiwgUGx1Z2luU2V0dGluZ1RhYiwgU2V0dGluZyB9IGZyb20gJ29ic2lkaWFuJztcclxuaW1wb3J0ICogYXMgcGF0aCBmcm9tICdwYXRoJztcclxuaW1wb3J0ICogYXMgZnMgZnJvbSAnZnMnO1xyXG5pbXBvcnQgeyBleGVjIH0gZnJvbSAnY2hpbGRfcHJvY2Vzcyc7XHJcblxyXG5cclxuaW50ZXJmYWNlIFB5dGhvblNjcmlwdGVyU2V0dGluZ3Mge1xyXG5cdHB5dGhvblBhdGg6IHN0cmluZztcclxuXHRweXRob25FeGU6IHN0cmluZztcclxuXHQvLyB1c2VMYXN0RmlsZTogYm9vbGVhbjtcclxufVxyXG5cclxuY29uc3QgREVGQVVMVF9TRVRUSU5HUzogUHl0aG9uU2NyaXB0ZXJTZXR0aW5ncyA9IHtcclxuXHRweXRob25QYXRoOiBcIlwiLFxyXG5cdHB5dGhvbkV4ZTogXCJcIixcclxuXHQvLyB1c2VMYXN0RmlsZTogZmFsc2VcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHl0aG9uU2NyaXB0ZXJQbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xyXG5cdHNldHRpbmdzOiBQeXRob25TY3JpcHRlclNldHRpbmdzO1xyXG5cdHB5dGhvbkRpcmVjdG9yeTogc3RyaW5nO1xyXG5cdHB5dGhvbkRpcmVjdG9yeVJlbGF0aXZlOiBzdHJpbmc7XHJcblxyXG5cdGdldEJhc2VQYXRoKCk6IHN0cmluZyB7XHJcbiAgICAgICAgbGV0IGJhc2VQYXRoO1xyXG4gICAgICAgIC8vIGJhc2UgcGF0aFxyXG4gICAgICAgIGlmICh0aGlzLmFwcC52YXVsdC5hZGFwdGVyIGluc3RhbmNlb2YgRmlsZVN5c3RlbUFkYXB0ZXIpIHtcclxuICAgICAgICAgICAgYmFzZVBhdGggPSB0aGlzLmFwcC52YXVsdC5hZGFwdGVyLmdldEJhc2VQYXRoKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgZGV0ZXJtaW5lIGJhc2UgcGF0aC4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGAke2Jhc2VQYXRofWA7XHJcbiAgICB9XHJcblxyXG5cdGFzeW5jIG9ubG9hZCgpIHtcclxuXHRcdGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XHJcblx0XHR2YXIgYmFzZVBhdGggPSB0aGlzLmdldEJhc2VQYXRoKCk7XHJcblx0XHR2YXIgZGVmYXVsdFJlbGF0aXZlUGF0aDogc3RyaW5nID0gcGF0aC5qb2luKFwiLlwiLCB0aGlzLmFwcC52YXVsdC5jb25maWdEaXIsIFwic2NyaXB0c1wiLCBcInB5dGhvblwiKTtcclxuXHRcdHRoaXMucHl0aG9uRGlyZWN0b3J5ID0gcGF0aC5qb2luKGJhc2VQYXRoLCBkZWZhdWx0UmVsYXRpdmVQYXRoKTtcclxuXHRcdHRoaXMucHl0aG9uRGlyZWN0b3J5UmVsYXRpdmUgPSBkZWZhdWx0UmVsYXRpdmVQYXRoXHJcblx0XHRpZiAodGhpcy5zZXR0aW5ncy5weXRob25QYXRoICE9IFwiXCIpIHtcclxuXHRcdFx0dGhpcy5weXRob25EaXJlY3RvcnkgPSBwYXRoLmpvaW4oYmFzZVBhdGgsIHRoaXMuc2V0dGluZ3MucHl0aG9uUGF0aCk7XHJcblx0XHRcdHRoaXMucHl0aG9uRGlyZWN0b3J5UmVsYXRpdmUgPSB0aGlzLnNldHRpbmdzLnB5dGhvblBhdGhcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRoaXMucHl0aG9uRGlyZWN0b3J5ID0gcGF0aC5qb2luKGJhc2VQYXRoLCBkZWZhdWx0UmVsYXRpdmVQYXRoKTtcclxuXHRcdFx0dGhpcy5weXRob25EaXJlY3RvcnlSZWxhdGl2ZSA9IGRlZmF1bHRSZWxhdGl2ZVBhdGhcclxuXHRcdH1cclxuXHRcdGNvbnNvbGUubG9nKHRoaXMucHl0aG9uRGlyZWN0b3J5UmVsYXRpdmUpXHJcblx0XHR0cnkge1xyXG5cdFx0XHRhd2FpdCB0aGlzLmFwcC52YXVsdC5jcmVhdGVGb2xkZXIodGhpcy5weXRob25EaXJlY3RvcnlSZWxhdGl2ZSk7XHJcblx0XHRcdC8vbmV3IE5vdGljZSh0aGlzLnB5dGhvbkRpcmVjdG9yeSArIFwiIGNyZWF0ZWRcIik7XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHQvL25ldyBOb3RpY2UoXCJFcnJvciBjcmVhdGluZyBcIiArIHRoaXMucHl0aG9uRGlyZWN0b3J5KTtcclxuXHRcdH1cclxuXHJcblx0XHR2YXIgZmlsZXM6IHN0cmluZ1tdID0gZnMucmVhZGRpclN5bmModGhpcy5weXRob25EaXJlY3RvcnkpO1xyXG5cdFx0Zm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IGZpbGVzLmxlbmd0aDsgaW5kZXgrKykge1xyXG5cdFx0XHRjb25zdCBmaWxlUGF0aCA9IHBhdGguam9pbih0aGlzLnB5dGhvbkRpcmVjdG9yeSwgZmlsZXNbaW5kZXhdKTtcclxuXHRcdFx0Y29uc3QgZmlsZU5hbWUgPSBmaWxlc1tpbmRleF07XHJcblx0XHRcdGNvbnN0IGJhc2VQYXRoID0gdGhpcy5nZXRCYXNlUGF0aCgpO1xyXG5cdFx0XHRjb25zdCBvYnNpZGlhbkNvbW1hbmQgPSB7XHJcblx0XHRcdFx0aWQ6IFwicnVuLVwiK2ZpbGVzW2luZGV4XSxcclxuXHRcdFx0XHRuYW1lOiAnUnVuICcrZmlsZXNbaW5kZXhdLFxyXG5cdFx0XHRcdGNhbGxiYWNrOiAoKSA9PiB7XHJcblx0XHRcdFx0XHRmcy5zdGF0KGZpbGVQYXRoLCAoZXJyOiBhbnksIHN0YXRzOiB7IGlzRmlsZTogKCkgPT4gYW55OyBpc0RpcmVjdG9yeTogKCkgPT4gYW55OyB9KSA9PiB7XHJcblx0XHRcdFx0XHRcdGlmIChlcnIpIHtcclxuXHRcdFx0XHRcdFx0ICBjb25zb2xlLmVycm9yKGVycik7XHJcblx0XHRcdFx0XHRcdCAgcmV0dXJuO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGxldCBweXRob25fZXhlID0gXCJweXRob25cIjtcdFxyXG5cdFx0XHRcdFx0XHRpZiAodGhpcy5zZXR0aW5ncy5weXRob25FeGUgIT0gXCJcIikge1xyXG5cdFx0XHRcdFx0XHRcdHB5dGhvbl9leGUgPSB0aGlzLnNldHRpbmdzLnB5dGhvbkV4ZVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGlmIChzdGF0cy5pc0ZpbGUoKSkge1xyXG5cdFx0XHRcdFx0XHRcdC8vIHZhciAgbG9jYWxfY3VycmVudF9maWxlX3BhdGggPSB0aGlzLmFwcC53b3Jrc3BhY2UuYWN0aXZlRWRpdG9yPy5maWxlPy5wYXRoO1xyXG5cdFx0XHRcdFx0XHRcdHZhciAgbG9jYWxfY3VycmVudF9maWxlX3BhdGggPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlRmlsZSgpPy5uYW1lPy50b1N0cmluZygpO1xyXG5cdFx0XHRcdFx0XHRcdGlmIChsb2NhbF9jdXJyZW50X2ZpbGVfcGF0aCA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdFx0XHRcdFx0XHQvLyBsb2NhbF9jdXJyZW50X2ZpbGVfcGF0aCA9IFwiXCI7XHJcblx0XHRcdFx0XHRcdFx0XHRsb2NhbF9jdXJyZW50X2ZpbGVfcGF0aCA9IFwiXCI7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdC8vIGlmICh0aGlzLnNldHRpbmdzLnVzZUxhc3RGaWxlKSB7XHJcblx0XHRcdFx0XHRcdFx0Ly8gXHRsb2NhbF9jdXJyZW50X2ZpbGVfcGF0aCA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVGaWxlKCk/Lm5hbWU/LnRvU3RyaW5nKCk7XHJcblx0XHRcdFx0XHRcdFx0Ly8gfVxyXG5cdFx0XHRcdFx0XHRcdC8vIGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdC8vIFx0bG9jYWxfY3VycmVudF9maWxlX3BhdGggPSB0aGlzLmFwcC53b3Jrc3BhY2UuYWN0aXZlRWRpdG9yPy5maWxlPy5wYXRoO1xyXG5cdFx0XHRcdFx0XHRcdC8vIH1cclxuXHJcblx0XHRcdFx0XHRcclxuXHJcblx0XHRcdFx0XHRcdFx0ZXhlYyhgJHtweXRob25fZXhlfSBcXFwiJHtmaWxlUGF0aH1cXFwiIFxcXCIke2Jhc2VQYXRofVxcXCIgXFxcIiR7bG9jYWxfY3VycmVudF9maWxlX3BhdGh9XFxcImAsIHtjd2Q6IHRoaXMucHl0aG9uRGlyZWN0b3J5fSwgKGVycm9yOiBhbnksIHN0ZG91dDogYW55LCBzdGRlcnI6IGFueSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0aWYgKGVycm9yKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoYEVycm9yIGV4ZWN1dGluZyBzY3JpcHQgJHtmaWxlUGF0aH06ICR7ZXJyb3J9YCk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKGBFcnJvciBleGVjdXRpbmcgc2NyaXB0ICR7ZmlsZVBhdGh9OiAke2Vycm9yfWApXHJcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoYFNjcmlwdCBgICsgIGZpbGVOYW1lICsgYCBvdXRwdXQ6XFxuJHtzdGRvdXR9YCk7XHJcblx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoc3RhdHMuaXNEaXJlY3RvcnkoKSkgeyBcclxuXHRcdFx0XHRcdFx0XHR2YXIgZGlyID0gcGF0aC5qb2luKGZpbGVQYXRoKTtcclxuXHRcdFx0XHRcdFx0XHR2YXIgIGxvY2FsX2N1cnJlbnRfZmlsZV9wYXRoID0gdGhpcy5hcHAud29ya3NwYWNlLmFjdGl2ZUVkaXRvcj8uZmlsZT8ucGF0aDtcclxuXHRcdFx0XHRcdFx0XHRpZiAobG9jYWxfY3VycmVudF9maWxlX3BhdGggPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0bG9jYWxfY3VycmVudF9maWxlX3BhdGggPSBcIlwiO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRleGVjKGAke3B5dGhvbl9leGV9IFxcXCIke3BhdGguam9pbihmaWxlUGF0aCwgXCJzcmNcIiwgXCJtYWluLnB5XCIpfVxcXCIgXFxcIiR7YmFzZVBhdGh9XFxcIiBcXFwiJHtsb2NhbF9jdXJyZW50X2ZpbGVfcGF0aH1cXFwiYCwge2N3ZDogZGlyfSwgKGVycm9yOiBhbnksIHN0ZG91dDogYW55LCBzdGRlcnI6IGFueSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0aWYgKGVycm9yKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoYEVycm9yIGV4ZWN1dGluZyBmb2xkZXIgcHJvZ3JhbTogJHtlcnJvcn1gKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0Y29uc29sZS5sb2coYEVycm9yIGV4ZWN1dGluZyBmb2xkZXIgcHJvZ3JhbTogJHtlcnJvcn1gKVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKGBTY3JpcHQgYCArICBmaWxlTmFtZSArIFwiIFwiICsgYmFzZVBhdGggKyBgIG91dHB1dDpcXG4ke3N0ZG91dH1gKTtcclxuXHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0ICB9KTtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0dGhpcy5hZGRDb21tYW5kKG9ic2lkaWFuQ29tbWFuZCk7XHJcblx0XHR9IFxyXG5cclxuXHRcdC8vIFRoaXMgYWRkcyBhIHNldHRpbmdzIHRhYiBzbyB0aGUgdXNlciBjYW4gY29uZmlndXJlIHZhcmlvdXMgYXNwZWN0cyBvZiB0aGUgcGx1Z2luXHJcblx0XHR0aGlzLmFkZFNldHRpbmdUYWIobmV3IFB5dGhvblNjcmlwdGVyU2V0dGluZ1RhYih0aGlzLmFwcCwgdGhpcykpO1xyXG5cclxuXHR9XHJcblxyXG5cdG9udW5sb2FkKCkge1xyXG5cclxuXHR9XHJcblxyXG5cdGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcclxuXHRcdHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTLCBhd2FpdCB0aGlzLmxvYWREYXRhKCkpO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgc2F2ZVNldHRpbmdzKCkge1xyXG5cdFx0YXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcclxuXHR9XHJcbn1cclxuXHJcbmNsYXNzIFB5dGhvblNjcmlwdGVyU2V0dGluZ1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xyXG5cdHBsdWdpbjogUHl0aG9uU2NyaXB0ZXJQbHVnaW47XHJcblxyXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IFB5dGhvblNjcmlwdGVyUGx1Z2luKSB7XHJcblx0XHRzdXBlcihhcHAsIHBsdWdpbik7XHJcblx0XHR0aGlzLnBsdWdpbiA9IHBsdWdpbjtcclxuXHR9XHJcblxyXG5cdGRpc3BsYXkoKTogdm9pZCB7XHJcblx0XHRjb25zdCB7Y29udGFpbmVyRWx9ID0gdGhpcztcclxuXHJcblx0XHRjb250YWluZXJFbC5lbXB0eSgpO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHQuc2V0TmFtZSgnUHl0aG9uIFNjcmlwdCBQYXRoJylcclxuXHRcdFx0LnNldERlc2MoJ0RlZmF1bHRzIHRvIC5vYnNpZGlhblxcXFxzY3JpcHRzXFxcXHB5dGhvbicpXHJcblx0XHRcdC5hZGRUZXh0KHRleHQgPT4gdGV4dFxyXG5cdFx0XHRcdC5zZXRQbGFjZWhvbGRlcignRW50ZXIgcGF0aCcpXHJcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnB5dGhvblBhdGgpXHJcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MucHl0aG9uUGF0aCA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0fSkpO1xyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKCdQeXRob24gRXhlY3V0YWJsZScpXHJcblx0XHRcdC5zZXREZXNjKCdEZWZhdWx0cyB0byBweXRob24nKVxyXG5cdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHRleHRcclxuXHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoJ0VudGVyIHBhdGggb3IgY29tbWFuZCcpXHJcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnB5dGhvbkV4ZSlcclxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5weXRob25FeGUgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdH0pKTtcclxuXHRcdC8vIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0Ly8gXHQuc2V0TmFtZSgnVXNlIExhc3QgRmlsZScpXHJcblx0XHQvLyBcdC5zZXREZXNjKCdSdW4gdGhlIHNjcmlwdCBvbiB0aGUgbGFzdCBmaWxlIHRoYXQgd2FzIG9wZW5lZC4gVGhpcyBtYWtlIGl0IHBvc3NpYmxlIHRvIHJ1biBpdCBvbiBvdGhlciBmaWxlIHR5cGVzIGUuZy4gcGRmLicpXHJcblx0XHQvLyBcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxyXG5cdFx0Ly8gXHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy51c2VMYXN0RmlsZSlcclxuXHRcdC8vIFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHQvLyBcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy51c2VMYXN0RmlsZSA9IHZhbHVlO1xyXG5cdFx0Ly8gXHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdz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
